// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User{
  id        Int        @id @default(autoincrement())
  email     String     @unique
  password  String
  name      String     @default("Administrador")
  isAdmin   Boolean    @default(true)
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  @@map("users")
}

model Contact{
  id                 Int        @id @default(autoincrement())
  fullName           String     
  email              String
  theme              String
  bussiness          String?
  subject            String     
  dateService        DateTime?  @db.Date
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @default(now()) @updatedAt
  serviceActive      Boolean    @default(false)
  requeriment        Requeriment[]

  @@map("contact")
}



model Requeriment{
  id                    Int                   @id @default(autoincrement())
  theme                 String
  dateRequest           DateTime   
  dateInitialize        DateTime?   
  paymentRequest        DateTime?   
  paymentStatus         Boolean               @default(false)
  timeHourEstimation    Int
  timeMinuteEstimation  Int
  timeHourToogle        Int?
  timeMinuteToogle      Int?
  observation           String                @db.Text
  contactId             Int?     
  contact               Contact?              @relation(fields: [contactId], references: [id])

  @@map("requerimient")
}