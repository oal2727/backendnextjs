// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User{
  id        Int        @id @default(autoincrement())
  email     String     @unique
  password  String
  name      String     
  @@map("users")
}

model Contact{
  id                 Int        @id @default(autoincrement())
  fullName           String     
  email              String
  theme              String
  bussiness          String?
  subject            String     
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @default(now()) @updatedAt
  serviceActive      Boolean    @default(false)
  developmentRequest DevelopmentRequest[]

  @@map("contact")
}


enum Status {
  PROJECT
  REQUERIMENT
}


model DevelopmentRequest{
  id           Int        @id @default(autoincrement())
  type         Status
  contactId    Int
  contact      Contact    @relation(fields: [contactId], references: [id])
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @default(now()) @updatedAt
  requeriment  Requeriment[]
  @@map("developmentRequest")

}

model Requeriment{
  id                    Int                   @id @default(autoincrement())
  dateRequest           DateTime   
  dateInitialize        DateTime   
  paymentRequest        DateTime?   
  paymentStatus         Boolean               @default(false)
  timeEstimation        String
  timeToogle            String 
  observation           String                @db.Text
  developmentRequestId  Int     
  developmentRequest    DevelopmentRequest    @relation(fields: [developmentRequestId], references: [id])

  @@map("requerimient")
}